DROP DATABASE IF EXISTS testdatabase;

CREATE DATABASE testdatabase DEFAULT CHARACTER SET utf8 ;

USE  testdatabase;

DROP TABLE IF EXISTS  HLAC_USER_MST;
DROP TABLE IF EXISTS  HLAC_ROLE_MST;

CREATE TABLE HLAC_ROLE_MST (
 ROLE_ID VARCHAR(40) NOT NULL,
 ROLE VARCHAR(40) NOT NULL,
 CREATED_DATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
 UPDATED_DATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
 PRIMARY KEY (ROLE_ID)
);

CREATE TABLE HLAC_USER_MST (
 USER_ID VARCHAR(40) NOT NULL,
 
 USERNAME VARCHAR(40) NULL,
 EMAIL VARCHAR(80)  NULL,
 FIRST_NAME VARCHAR(80) NOT NULL,
 LAST_NAME VARCHAR(80) ,
 PASSWORD VARCHAR(80) NOT NULL,
 EMAIL_VERIFICATION_TOKEN VARCHAR(80) NULL,
 TOKEN VARCHAR(200) NULL,
 ROLE_ID VARCHAR(40) NOT NULL,
 USER_STATE SET('ACTIVE','DACTIVE'), 
 CREATED_DATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
 UPDATED_DATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
 PRIMARY KEY (USER_ID),
 UNIQUE(USERNAME),
 FOREIGN KEY (ROLE_ID) REFERENCES HLAC_ROLE_MST(ROLE_ID)
);
INSERT INTO HLAC_ROLE_MST VALUES('1','ADMIN',NULL,NULL),('2','DEVELOPER',NULL,NULL),('3','USER',NULL,NULL);
INSERT INTO HLAC_USER_MST VALUES('1','Furquan','furquan.ahmed@harman.com','Furquan','Ahmed','Login1-2',NULL,NULL,'1','ACTIVE',NULL,NULL),('2','Ashish','ashish.jain@harman.com','Ashish','Jain','Login1-2',NULL,NULL,'2','ACTIVE',NULL,NULL),('3','Ram','ram.mehar020@harman.com','Ram','Mehar','Login1-2',NULL,NULL,'3','ACTIVE',NULL,NULL);